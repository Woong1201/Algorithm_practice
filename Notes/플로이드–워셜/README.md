# í”Œë¡œì´ë“œâ€“ì™€ìƒ¬(Floyd-Warshall)

## í”Œë¡œì´ë“œ-ì™€ìƒ¬ ì•Œê³ ë¦¬ì¦˜

> ëª¨ë“  ë…¸ë“œì—ì„œ ë‹¤ë¥¸ ëª¨ë“  ë…¸ë“œê¹Œì§€ì˜ ìµœë‹¨ ê²½ë¡œë¥¼ êµ¬í•´ì£¼ëŠ” ì•Œê³ ë¦¬ì¦˜ì´ë‹¤.   
ë‹¤ìµìŠ¤íŠ¸ë¼ ì•Œê³ ë¦¬ì¦˜ê³¼ ë‹¤ë¥´ê²Œ DPì•Œê³ ë¦¬ì¦˜ì— ì†í•œë‹¤.
> 

## í”Œë¡œì´ë“œ-ì™€ìƒ¬ ì•Œê³ ë¦¬ì¦˜ ì›ë¦¬

ëª¨ë“  ë…¸ë“œì— ëŒ€í•˜ì—¬ ê° ë…¸ë“œë¥¼ ê±°ì¹˜ëŠ” ê²½ìš°ì˜ ìµœë‹¨ê±°ë¦¬ë¥¼ ê³„ì‚°í•˜ì—¬ í…Œì´ë¸”ì„ ê°±ì‹ í•˜ëŠ” ë°©ì‹ì´ë‹¤.   
kë²ˆì§¸ ë…¸ë“œë¥¼ ê³ ë ¤í•˜ì—¬, a,bì‚¬ì´ì˜ ìµœë‹¨ê±°ë¦¬ë¥¼ ê°±ì‹ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.   
- D<sub>ab</sub> (aì—ì„œ bë¡œ ê°€ëŠ” ìµœë‹¨ ê±°ë¦¬) = min(D<sub>ab</sub>, D<sub>ak</sub> + D<sub>kb</sub>)   

ì•„ë˜ì™€ ê°™ì€ ê·¸ë˜í”„ê°€ ìˆì„ ë•Œ, ê° ë…¸ë“œì—ì„œ ë‹¤ë¥¸ ë…¸ë“œë“¤ ê¹Œì§€ì˜ ìµœë‹¨ ê±°ë¦¬ë¥¼ ì•Œì•„ë³´ì.   

![algorithm-thisiscote-07-1643245004239](https://user-images.githubusercontent.com/87896466/170947835-aa8151d3-18dc-4def-86d9-220576544066.png)

1. ì´ˆê¸° í…Œì´ë¸”ì„ ì„¤ì •í•œë‹¤.

| ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
| --- | --- | --- | --- | --- |
| 1 | 0 | 4 | ë¬´í•œ | 6 |
| 2 | 3 | 0 | 7 | ë¬´í•œ |
| 3 | 5 | ë¬´í•œ | 0 | 4 |
| 4 | ë¬´í•œ | ë¬´í•œ | 2 | 0 |
2. ê°ê°ì˜ ë…¸ë“œë“¤ì„ ê±°ì³ê°€ëŠ” ê²½ìš°ì— ëŒ€í•˜ì—¬ í…Œì´ë¸”ì„ ê°±ì‹ í•œë‹¤.   
 - 1ë²ˆ ë…¸ë“œì— ëŒ€í•˜ì—¬ ê°±ì‹ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.   
    ex) DP24 = min(DP24, DP21 + DP14)   
    
    | ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
    | --- | --- | --- | --- | --- |
    | 1 | 0 | 4 | ë¬´í•œ | 6 |
    | 2 | 3 | 0 | 7 | 9 |
    | 3 | 5 | 9 | 0 | 4 |
    | 4 | ë¬´í•œ | ë¬´í•œ | 2 | 0 |
    
 - 2ë²ˆ ë…¸ë“œì— ëŒ€í•˜ì—¬ ê°±ì‹ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    | ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
    | --- | --- | --- | --- | --- |
    | 1 | 0 | 4 | 11 | 6 |
    | 2 | 3 | 0 | 7 | 9 |
    | 3 | 5 | 9 | 0 | 4 |
    | 4 | ë¬´í•œ | ë¬´í•œ | 2 | 0 |
    
 - 3ë²ˆ ë…¸ë“œì— ëŒ€í•˜ì—¬ ê°±ì‹ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    | ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
    | --- | --- | --- | --- | --- |
    | 1 | 0 | 4 | 11 | 6 |
    | 2 | 3 | 0 | 7 | 9 |
    | 3 | 5 | 9 | 0 | 4 |
    | 4 | 7 | 11 | 2 | 0 |
    
 - 4ë²ˆ ë…¸ë“œì— ëŒ€í•˜ì—¬ ê°±ì‹ í•˜ë©´ ë‹¤ìŒê³¼ ê°™ë‹¤.
    
    | ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
    | --- | --- | --- | --- | --- |
    | 1 | 0 | 4 | 8 | 6 |
    | 2 | 3 | 0 | 7 | 9 |
    | 3 | 5 | 9 | 0 | 4 |
    | 4 | 7 | 11 | 2 | 0 |
3. ê²°ê³¼

| ì¶œë°œ/ë„ì°© | 1 | 2 | 3 | 4 |
| --- | --- | --- | --- | --- |
| 1 | 0 | 4 | 8 | 6 |
| 2 | 3 | 0 | 7 | 9 |
| 3 | 5 | 9 | 0 | 4 |
| 4 | 7 | 11 | 2 | 0 |

> ë…¸ë“œì˜ ê°œìˆ˜ë¥¼ Nì´ë¼ í•˜ë©´, ê° ë…¸ë“œì— ëŒ€í•˜ì—¬ íƒìƒ‰ì´ ì§„í–‰ë˜ë¯€ë¡œ Në²ˆì˜ ë‹¨ê³„ë¥¼ ìˆ˜í–‰í•œë‹¤.    
ë˜í•œ, ê° ë‹¨ê³„ë§ˆë‹¤ â€˜í˜„ì¬ ë…¸ë“œë¥¼ ê±°ì³ê°€ëŠ” ëª¨ë“  ê²½ë¡œâ€™ë¥¼ ê³ ë ¤í•˜ëŠ” O(N<sup>2</sup>)ì˜ ì—°ì‚°ì„ í•˜ê²Œ ëœë‹¤.   
ë”°ë¼ì„œ í”Œë¡œì´ë“œ-ì™€ìƒ¬ ì•Œê³ ë¦¬ì¦˜ì€ O(N<sup>3</sup>)ì˜ ì‹œê°„ë³µì¡ë„ë¥¼ ê°€ì§„ë‹¤.
> 

## í”Œë¡œì´ë“œ-ì™€ìƒ¬ ì•Œê³ ë¦¬ì¦˜ êµ¬í˜„

```python
import sys

N, M = map(int, sys.stdin.readline().split())

graph = [[10000]*(N+1) for _ in range(N+1)]
for k in range(1, N+1):
	graph[k][k] = 0
for _ in range(M):
	n1, n2, cost = map(int, sys.stdin.readline().split())
	graph[n1][n2] = cost

for k in range(1, N+1):
	for i in range(1, N+1):
		for j in range(1, N+1):
			graph[i][j] = min(graph[i][j], graph[i][k] + graph[k][j])

for row in range(1, N+1):
	print(*distance[1:], sep = ' ')
```


ğŸ”‘ input   
4 7   
1 2 4   
1 4 6   
2 1 3   
2 3 7   
3 1 5   
3 4 4   
4 3 2   
output   
0 4 8 6   
3 0 7 9   
5 9 0 4   
7 11 2 0   
