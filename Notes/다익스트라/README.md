# 다익스트라(Dijkstra)

## 다익스트라 최단 경로 알고리즘

> 특정한 노드에서 출발하여 다른 노드로 가는 각각의 최단 경로를 구해주는 알고리즘이다.   
그래프에 ‘음의 노드’가 없을 때에만 정상적으로 동작하는데,
현실에는 ‘음의 노드'가 없으므로 GPS 소프트웨어의 기본 알고리즘으로 채택되곤 한다.
> 

## 다익스트라 알고리즘 원리

1. 출발 노드 설정
2. 최단 거리 테이블 초기화
3. 방문하지 않은 노드 중에서 최단 거리가 가장 짧은 노드를 선택
4. 해당 노드를 거쳐 다른 노드로 가는 비용을 계산하여 최단 거리 테이블 갱신
5. 3, 4 반복   

아래와 같은 그래프가 있을 때, 1번 노드에서 각각의 노드들 까지의 최단 거리를 알아보자.   
![graph](https://user-images.githubusercontent.com/87896466/170829113-377b0246-a87b-48a3-b840-e565d86d09fe.png)


1. 출발 노드 설정
    
    1번 노드를 출발 노드로 설정한다.
    
2. 최단 거리 테이블 초기화
    
    출발 노드의 거리는 0, 나머지 노드들의 거리는 무한으로 초기화 한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 무한 | 무한 | 무한 | 무한 | 무한 |
    | 방문 | 0 | 0 | 0 | 0 | 0 | 0 |
3. 방문하지 않은 노드 중에서 최단 거리가 가장 짧은 노드를 선택
    
    1번 노드가 선택된다.
    
4. 해당 노드를 거쳐 다른 노드로 가는 비용을 계산하여 최단 거리 테이블 갱신
    
    1번 노드를 방문처리하고, 1번 노드와 연결된 노드들의 거리를 계산하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 5 | 1 | 무한 | 무한 |
    | 방문 | 1 | 0 | 0 | 0 | 0 | 0 |
5. 3, 4 반복
    
    4번 노드를 선택하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 4 | 1 | 2 | 무한 |
    | 방문 | 1 | 0 | 0 | 1 | 0 | 0 |
    
    2번 노드를 선택하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 4 | 1 | 2 | 무한 |
    | 방문 | 1 | 1 | 0 | 1 | 0 | 0 |
    
    5번 노드를 선택하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 3 | 1 | 2 | 4 |
    | 방문 | 1 | 1 | 0 | 1 | 1 | 0 |
    
    3번 노드를 선택하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 3 | 1 | 2 | 4 |
    | 방문 | 1 | 1 | 1 | 1 | 1 | 0 |
    
    6번 노드를 선택하여 테이블을 갱신한다.
    
    | 노드 번호 | 1 | 2 | 3 | 4 | 5 | 6 |
    | --- | --- | --- | --- | --- | --- | --- |
    | 거리 | 0 | 2 | 3 | 1 | 2 | 4 |
    | 방문 | 1 | 1 | 1 | 1 | 1 | 1 |

> 위와 같이 매번 ‘가장 비용이 적은 노드'를 선택하기 때문에,
다익스트라 알고리즘은 그리디 알고리즘으로 분류된다.
> 

## 우선순위 큐를 이용한 다익스트라 알고리즘 구현

```python
import sys
import heapq

N, M = map(int, sys.stdin.readline().split())
start = int(input())
graph = [[] for _ in range(N+1)]
for _ in range(M):
  n1, n2, cost = map(int, sys.stdin.readline().split())
  graph[n1].append((n2, cost))

distance = [10000]*(N+1)

def dijkstra(start):
  q = [(0,start)]
  while len(q) != 0:
    now_dist, now_node = heapq.heappop(q)
    if distance[now_node] < now_dist:
      continue
    for connect in graph[now_node]:
      new_dist = now_dist + connect[1]
      if distance[connect[0]] > new_dist:
        distance[connect[0]] = new_dist
        heapq.heappush(q, (new_dist, connect[0]))

dijkstra(start)
print(*distance[1:])
```


🔑 input   
6 11   
1   
1 2 2   
1 3 5   
...   
5 6 2   
output   
0 2 3 1 2 4   
